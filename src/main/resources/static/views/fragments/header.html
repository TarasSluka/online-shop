<div class="header-wrap">
    <nav class="navbar navbar-white">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" ui-sref="shop.root.home">Shop</a>
        </div>
        <div style="padding-right: 0px" class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <div class=" col-sm-6 col-md-6">
                <div class="input-group header-search-group">
                    <input ng-keyup="$event.keyCode == 13 ? search() : null" ng-model="searchTxt" type="text"
                           class="form-control"
                           placeholder="Search">
                    <div class="input-group-btn">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">{{selectCat.name}}<span
                                class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
                            <li ng-click="selectCategory(undefined)" class="cursorPointer"><a>All</a></li>
                            <li ng-click="selectCategory(category)" class="cursorPointer"
                                ng-repeat="category in categories.children">
                                <a>{{category.name}}</a>
                            </li>
                        </ul>

                        <button ng-if="searchTxt" ng-click="search()" class="btn btn-default" type="button"><i
                                class="fa fa-search"></i></button>
                    </div>
                </div>
                <span ng-show="showSearchError">No products for this query</span>
            </div>
            <ul class="nav navbar-nav navbar-right">
                <li visible-to-roles="ROLE_ADMIN">
                    <a ui-sref="shop.root.admin">admin</a>
                </li>
                <li class="cart" visible-to-roles="ROLE_ANONYMOUS,ROLE_USER">
                    <!--ng-if="role == USER_ROLES.admin"-->
                    <a ui-sref="shop.user.cart" class="fa fa-shopping-cart fa-2x">
                        <cart-item-price></cart-item-price>
                    </a>
                </li>
                <li class="dropdown">
                    <a style="padding-bottom: 9px; padding-top: 9px;" data-toggle="dropdown"
                       role="button" aria-haspopup="true">{{firstName()+ ' ' + lastName()}}
                        <img class="img" style="height: 30px;" ng-src="{{avaUrl()}}"/>
                    </a>
                    <ul class="dropdown-menu">
                        <li visible-to-roles="ROLE_USER"><a ui-sref="shop.user">Profile</a></li>
                        <li visible-to-roles="ROLE_USER"><a ui-sref="shop.user.editProfile">edit profile</a></li>
                        <li visible-to-roles="ROLE_ANONYMOUS"><a ng-show="!authorized()" ui-sref="shop.login">login</a>
                        </li>
                        <li visible-to-roles="ROLE_ANONYMOUS"><a ng-show="!authorized()" ui-sref="shop.registration">registration</a>
                        </li>
                        <li ng-show="authorized()" ng-click="logout()"><a><span
                                class="glyphicon glyphicon-log-out"></span> Log out </a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>
</div>